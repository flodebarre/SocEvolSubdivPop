

\documentclass[]{beamer}

\input{../2017-10_MathBioMontagne/styleMBM.tex}
\usepackage[active,pdftex,tightpage]{preview}
\PreviewEnvironment[{[]}]{tikzpicture}

\begin{document}

\begin{frame}
\begin{center}

\begin{tikzpicture}
\tikzstyle{popn}=[ellipse, draw=maincol, line width=1.5pt, inner sep = 0pt]
\tikzstyle{dck}=[inner sep=0pt, circle]
\def \rad {0.8cm}
\def \hpic {0.55cm}
\def \theduck {\includegraphics[height=\hpic]{../Pics/empty.pdf}}

\def \TA {\includegraphics[height=\hpic]{../Pics/typeA.pdf}}
\def \TB {\includegraphics[height=\hpic]{../Pics/typeB.pdf}}

\node[dck]at(0,0) (d1){\theduck};
\foreach \i in {1,...,6}{
\node[dck] (d1\i) at($(d1)+(\i*60:\rad)$){\theduck};
}

\node[dck]at(3.5,3)(d2){\theduck};
\foreach \i in {1,...,4}{
\node[dck] (d2\i) at($(d2)+(\i*90:\rad)$){\theduck};
}

\node[dck]at(4.5, -1)(d3){\theduck};
\foreach \i in {1,...,8}{
\node[dck] (d3\i) at($(d3)+(\i*45:\rad)$){\theduck};
}

\node[dck]at(9,-0.7)(d4){\theduck};
\foreach \i in {1,...,6}{
\node[dck] (d4\i) at($(d4)+(\i*60:\rad)$){\theduck};
}

\node[dck]at(8,2.5)(d5){\theduck};
\node[dck] (d51) at($(d5)+(0:\rad)$){\theduck};

% Add pop circles
\node[popn, fit=(d11)(d12)(d13)(d14)(d15)(d16)] (c1){};
\node[popn, fit=(d2)(d21)(d22)(d23)(d24)] (c2){};
\node[popn, fit=(d31)(d32)(d33)(d34)(d35)(d36)(d37)(d38)] (c3){};
\node[popn, fit=(d41)(d42)(d43)(d44)(d45)(d46)] (c4){};
\node[popn, fit=(d5)(d51)] (c5){};

% Add links
\tikzstyle{lnk}=[maincol, line width = 3pt, line cap=round]
\draw[lnk](c1)--(c2)--(c3)--(c1);
\draw[lnk](c2)--(c4)--(c5)--(c3)--(c4)--(c2);
\draw[lnk](c2)--(c5);

% Add colored ducks
\node[dck]at(d1){\TA};
\foreach \i in {1, ..., 6}{ \node[dck]at(d1\i){\TA};}

\node[dck]at(d2){\TA};
\foreach \i in {1, ..., 4}{ \node[dck]at(d2\i){\TB};}

\node[dck]at(d3){\TB};
\foreach \i in {1, ..., 7}{ \node[dck]at(d3\i){\TA};}
\node[dck]at(d38){\TA};

\node[dck]at(d4){\TA};
\foreach \i in {1, 2, 4, 6}{ \node[dck]at(d4\i){\TA};}
\foreach \i in {3, 5}{ \node[dck]at(d4\i){\TB};}

\node[dck]at(d5){\TB};
\node[dck]at(d51){\TB};

\end{tikzpicture}

\end{center}
\end{frame}

\end{document}